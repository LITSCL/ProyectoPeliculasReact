{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MelchioT\\\\Documents\\\\VisualStudioCodeWork\\\\ProyectoPeliculasReact\\\\src\\\\components\\\\EditarComponent.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EditarComponent = props => {\n  var pelicula = props.pelicula;\n  var getPeliculas = props.getPeliculas;\n  var setEditarPeliculaState = props.setEditarPeliculaState;\n  var setListadoState = props.setListadoState;\n\n  const guardarEdicionHandler = (e, idPelicula) => {\n    //1. Evitar que se recargue la página.\n    e.preventDefault(); //2. Obtener el formulario.\n\n    var formulario = e.target; //3. Obtener todas las peliculas.\n\n    var peliculas = getPeliculas(); //4. Obtener el indice de la pelicula a editar.\n\n    var indice = peliculas.findIndex(pelicula => pelicula.id == idPelicula); //5. Crear un nuevo objeto con los datos recibidos.\n\n    var pelicula = {\n      id: idPelicula,\n      titulo: formulario.titulo.value,\n      descripcion: formulario.descripcion.value\n    }; //6. Reemplazar el objeto en el Array de peliculas.\n\n    peliculas[indice] = pelicula; //7. Reemplazar el Array de la lista principal.\n\n    setListadoState(peliculas); //8. Actualizar la lista del localstorage.\n\n    localStorage.setItem(\"peliculas\", JSON.stringify(peliculas)); //9. Actualizar el estado de edición de pelicula para cerrar el formulario de edición.\n\n    setEditarPeliculaState(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"titulo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => guardarEdicionHandler(e, pelicula.id),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"titulo\",\n        defaultValue: pelicula.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"descripcion\",\n        defaultValue: pelicula.descripcion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"editar\",\n        value: \"Actualizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = EditarComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditarComponent\");","map":{"version":3,"names":["React","EditarComponent","props","pelicula","getPeliculas","setEditarPeliculaState","setListadoState","guardarEdicionHandler","e","idPelicula","preventDefault","formulario","target","peliculas","indice","findIndex","id","titulo","value","descripcion","localStorage","setItem","JSON","stringify"],"sources":["C:/Users/MelchioT/Documents/VisualStudioCodeWork/ProyectoPeliculasReact/src/components/EditarComponent.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport const EditarComponent = (props) => {\r\n  var pelicula = props.pelicula;\r\n  var getPeliculas = props.getPeliculas;\r\n  var setEditarPeliculaState = props.setEditarPeliculaState;\r\n  var setListadoState = props.setListadoState;\r\n\r\n  const guardarEdicionHandler = (e, idPelicula) => {\r\n    //1. Evitar que se recargue la página.\r\n    e.preventDefault();\r\n\r\n    //2. Obtener el formulario.\r\n    var formulario = e.target;\r\n\r\n    //3. Obtener todas las peliculas.\r\n    var peliculas = getPeliculas();\r\n    \r\n    //4. Obtener el indice de la pelicula a editar.\r\n    var indice = peliculas.findIndex(pelicula => pelicula.id == idPelicula);\r\n    \r\n    //5. Crear un nuevo objeto con los datos recibidos.\r\n    var pelicula = {\r\n      id: idPelicula,\r\n      titulo: formulario.titulo.value,\r\n      descripcion: formulario.descripcion.value\r\n    }\r\n\r\n    //6. Reemplazar el objeto en el Array de peliculas.\r\n    peliculas[indice] = pelicula;\r\n\r\n    //7. Reemplazar el Array de la lista principal.\r\n    setListadoState(peliculas);\r\n\r\n    //8. Actualizar la lista del localstorage.\r\n    localStorage.setItem(\"peliculas\", JSON.stringify(peliculas));\r\n\r\n    //9. Actualizar el estado de edición de pelicula para cerrar el formulario de edición.\r\n    setEditarPeliculaState(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"titulo\"></h3>\r\n      <form onSubmit={(e) => guardarEdicionHandler(e, pelicula.id)}>\r\n        <input type=\"text\" name=\"titulo\" defaultValue={pelicula.titulo}/>\r\n        <textarea name=\"descripcion\" defaultValue={pelicula.descripcion}></textarea>\r\n        <input type=\"submit\" className=\"editar\" value=\"Actualizar\"/>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAW;EACxC,IAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;EACA,IAAIC,YAAY,GAAGF,KAAK,CAACE,YAAzB;EACA,IAAIC,sBAAsB,GAAGH,KAAK,CAACG,sBAAnC;EACA,IAAIC,eAAe,GAAGJ,KAAK,CAACI,eAA5B;;EAEA,MAAMC,qBAAqB,GAAG,CAACC,CAAD,EAAIC,UAAJ,KAAmB;IAC/C;IACAD,CAAC,CAACE,cAAF,GAF+C,CAI/C;;IACA,IAAIC,UAAU,GAAGH,CAAC,CAACI,MAAnB,CAL+C,CAO/C;;IACA,IAAIC,SAAS,GAAGT,YAAY,EAA5B,CAR+C,CAU/C;;IACA,IAAIU,MAAM,GAAGD,SAAS,CAACE,SAAV,CAAoBZ,QAAQ,IAAIA,QAAQ,CAACa,EAAT,IAAeP,UAA/C,CAAb,CAX+C,CAa/C;;IACA,IAAIN,QAAQ,GAAG;MACba,EAAE,EAAEP,UADS;MAEbQ,MAAM,EAAEN,UAAU,CAACM,MAAX,CAAkBC,KAFb;MAGbC,WAAW,EAAER,UAAU,CAACQ,WAAX,CAAuBD;IAHvB,CAAf,CAd+C,CAoB/C;;IACAL,SAAS,CAACC,MAAD,CAAT,GAAoBX,QAApB,CArB+C,CAuB/C;;IACAG,eAAe,CAACO,SAAD,CAAf,CAxB+C,CA0B/C;;IACAO,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeV,SAAf,CAAlC,EA3B+C,CA6B/C;;IACAR,sBAAsB,CAAC,KAAD,CAAtB;EACD,CA/BD;;EAiCA,oBACE;IAAA,wBACE;MAAI,SAAS,EAAC;IAAd;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAM,QAAQ,EAAGG,CAAD,IAAOD,qBAAqB,CAACC,CAAD,EAAIL,QAAQ,CAACa,EAAb,CAA5C;MAAA,wBACE;QAAO,IAAI,EAAC,MAAZ;QAAmB,IAAI,EAAC,QAAxB;QAAiC,YAAY,EAAEb,QAAQ,CAACc;MAAxD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAU,IAAI,EAAC,aAAf;QAA6B,YAAY,EAAEd,QAAQ,CAACgB;MAApD;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAO,IAAI,EAAC,QAAZ;QAAqB,SAAS,EAAC,QAA/B;QAAwC,KAAK,EAAC;MAA9C;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD,CAjDM;KAAMlB,e"},"metadata":{},"sourceType":"module"}